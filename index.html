<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Pmobo Test Center</title>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="styles/style.css">
    <script src="scripts/Global.js"></script>
</head>
<body>
    <div class="block">
        <h2 style="text-align: center;">Account Session</h2>
        <div class='row'>        
            <div class="col-md-6">
                <div class="innerBlock">
                    <h3>Register</h2>
                    UserName: <input type="text" name="register_userName" id="register_userName">
                    Password: <input type="password" name="register_password" id="register_password">
                    
                    <div id="resultTokenRequestBlock" class="resultHidden result">
                        <b>AccessToken: </b><span id="resultTokenAccess" class="tokenResult"></span>
                        <b>Expires: </b><span id="resultTokenExpires" class="tokenResult"></span>
                        <b>TokenType: </b><span id="resultTokenType" class="tokenResult"></span>                        
                    </div>
                    
                    
                    <button id="btnRegister" name="btnRegister">Register</button>
                </div>
            </div>
            <div class="col-md-6">
                <div class="innerBlock">
                    <h3>Get Access Token</h2>
                    UserName: <input type="text" name="token_userName" id="token_userName">
                    Password: <input type="password" name="token_password" id="token_password">
                    <button onclick="requestToken_click()" id="btnRequestToken" name="btnRequestToken">Request Token</button>
                </div>           
            </div>
        </div>
    </div>

    <br>

    <div class="block">
            <h2 style="text-align: center;">User Session</h2>
            <div class="row">
                <div class="col-md-6">
                <div class="innerBlock">
                    <h3>Get logged in user info</h2>
                    <button id="" name="">Request Info</button>
                </div>           
                </div>
            </div>
        </div>

    <br>

    <div class="block">
        <h2 style="text-align: center;">Activities Session</h2>
        <div class="row">
            <div class="col-md-4">
                <div class="innerBlock">
                    <h3>Get All user Activities</h2>
                    <button id="" name="">Request Activities</button>
                </div>           
            </div>

            <div class="col-md-4">
                <div class="innerBlock">
                    <h3>Link Activity</h2>
                        Link this <select><option>Avitivty 1</option></select>
                        To this <select><option>Avitivty 2</option></select>
                    <button id="" name="">Link</button>
                </div>           
            </div>

            <div class="col-md-4">
                <div class="innerBlock">
                    <h3>Dispose Link Activity</h2>
                        Select Activity <select><option>Avitivty 1</option></select>                        
                    <button id="" name="">Dispose</button>
                </div>           
            </div>

        </div>
    </div>
    
    <!--<div class="block">
            <h2 style="text-align: center;">Trello Session</h2>
            <div class="row">
            </div>
        </div>-->
    

</body>
<script src="scripts/Account.js"></script>
<script>
    /*  CALL HANDLER */

    /**
    * REQUEST TOKEN
    */
    function requestToken_click(){
        alert("Request Token");
        var username = document.getElementById('register_userName').value;
        var password = document.getElementById('register_password').value;
        if (username == null || password == null)
        {
            alert("Usuário e Password não podem ser nulos");
            return;
        }
        var credentials = {name: username, password: password};
        Pmobo.Account.Authenticate(credentials);//credentials = {name: x, password: y}
    }

    //Making token request:    
    // look for angular example: http://bitoftech.net/2014/06/09/angularjs-token-authentication-using-asp-net-web-api-2-owin-asp-net-identity/
    // sample to use: https://docs.microsoft.com/en-us/aspnet/web-api/overview/security/individual-accounts-in-web-api
</script>
</html>